<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Undangan Pernikahan â€” Modern Luxury</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
:root{
  --gold:#c9a24d;
  --dark:#0f172a;
  --soft:#f9f6f1;

  /* BATIK PATTERN */
  --batik-pattern:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cg fill='%23c9a24d' fill-opacity='0.08'%3E%3Cpath d='M60 0c16 20-16 20 0 40s-16 20 0 40-16 20 0 40c16-20 48-20 0-40s16-20 0-40 16-20 0-40z'/%3E%3C/g%3E%3C/svg%3E");
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:linear-gradient(180deg,#0f172a,#1e293b);
  color:#fff;
  text-align:center;
}
/* HERO */
.hero {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 40px 20px;

  /* gambar + overlay */
  background:
    linear-gradient(rgba(15, 23, 42, 0.7), rgba(15, 23, 42, 0.9)),
    url('/images/img_01.png');

  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  color: white;
}

/* Desktop (crop 10% bawah + parallax) */
@media (min-width: 768px) {
  .hero {
    background-size: 100% 110%;   /* Crop 10% bawah */
    background-position: top center;
    background-attachment: fixed; /* Parallax hanya di desktop */
  }
}

/* Mobile */
@media (max-width: 767px) {
  .hero {
    background-size: cover;      /* full fit */
    background-position: center; /* fokus gambar */
    background-attachment: scroll; /* Hindari bug HP */
  }
}


/* TEXT */
.hero h4 {
  letter-spacing: 3px;
  font-weight: 400;
  color: var(--gold);
}

.hero h1 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(28px, 6vw, 48px); /* ðŸ”¥ Auto-resize judul */
  margin: 10px 0;
}

.hero p {
  max-width: 600px;
  color: #e5e7eb;
  font-size: clamp(14px, 3vw, 18px); /* ðŸ”¥ Auto-resize paragraf */
  text-align: center;
}

.divider{
  width:120px;height:1px;background:var(--gold);margin:20px auto
}

.btn{
  margin-top:25px;
  padding:14px 32px;
  border-radius:40px;
  background:var(--gold);
  color:#000;
  font-weight:600;
  border:none;
  cursor:pointer;
}

/* SECTION */
section{
  padding:80px 20px;
  color:#1f2937;
  background:
    var(--batik-pattern),
    linear-gradient(180deg,#fdfaf5,#f7f2e8);
  background-size:120px 120px,cover;
}
section.dark{
  background:#111827;
  color:#fff;
}
/* SELANG SELING */
section:nth-of-type(even){
  background:
    var(--batik-pattern),
    linear-gradient(180deg,#fff,#f4efe4);
}

h2{
  font-family:'Playfair Display',serif;
  font-size:36px;
}

.card{
  max-width:700px;
  margin:30px auto;
  padding:30px;
  border-radius:20px;
  background:linear-gradient(180deg,#fff,#faf7f2);
  box-shadow:0 20px 40px rgba(0,0,0,.15);
}
.card.dark{background:#1f2937;color: #fff !important;}

/* UCAPAN */
.ucapan-item{
  display:flex;
  gap:14px;
  margin-bottom:20px;
  padding-bottom:15px;
  border-bottom:1px solid #e5e7eb;
}
.avatar{
  width:42px;height:42px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  color:#fff;font-weight:600;flex-shrink:0;
}
.ucapan-box p{margin:6px 0 0}

/* GALLERY */
.gallery{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:15px;
}
.gallery img{
  width:100%;height:160px;object-fit:cover;
  border-radius:16px;
  cursor:pointer;
  transition:.3s;
}
.gallery img:hover{
  transform:scale(1.03);
  box-shadow:0 15px 30px rgba(0,0,0,.3);
}

/* LIGHTBOX */
.lightbox{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.lightbox.active{display:flex}
.lightbox img{
  max-width:90%;
  max-height:90%;
  border-radius:20px;
}

/* FOOTER */
footer{
  padding:40px 20px;
  background:#0f172a;
  color:#9ca3af
}

.map-responsive {
  position: relative;
  width: 100%;
  padding-bottom: 60%; /* tinggi otomatis */
  border-radius: 18px;
  overflow: hidden;
}

.map-responsive iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: 0;
  border-radius: 18px;
}

</style>
</head>

<body>
<audio id="bgMusic" src="/sound/lagu_awal.mp3" preload="auto" loop></audio>
<div class="hero">
  <h4>THE WEDDING OF</h4>
  <h1>Della & Iqbal</h1>  
  <p style="margin:10px 0 0 0; padding:0;">Kpd Bpk/Ibu/Saudara/i</p>
  <p id="namaTamu" style="margin:2px 0 0 0; font-size:20px; color:var(--gold); padding:0;"></p>
  <div class="divider"></div>
  <p>Dengan memohon rahmat dan ridho Allah SWT, kami mengundang Anda untuk hadir di hari bahagia kami</p>
  <button class="btn" onclick="startMusic(); document.getElementById('acara').scrollIntoView({behavior:'smooth'})">
    Buka Undangan
  </button>
</div>

<section id="acara">
  <h2>Save The Date</h2>
  <p>Sabtu, 18 Desember 2025</p>
  <div class="card">
    <h3>Akad Nikah</h3><p>10.00 WITA</p>
    <p>KUA Bontang Utara</p>
    <h3>Resepsi</h3><p>12.00 - 14.00 WITA</p>
    <p>Rumah Pengantin Wanita<br>Jl. Parikesit RT.018, Kel. Botang Baru Kec. Bontang Utara, Samping Scotties Pizza</p>
  </div>
</section>

<section>
  <h2>Lokasi Acara</h2>
  <div class="card">

    <div class="map-responsive">
      <iframe 
        src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d430.5983379467015!2d117.49285718820842!3d0.13609183784627338!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMMKwMDgnMTAuMSJOIDExN8KwMjknMzUuMiJF!5e1!3m2!1sid!2sid!4v1765539703078!5m2!1sid!2sid"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>

    <br>
    <a href="https://maps.app.goo.gl/88kB65uTaa1FVTdN7" target="_blank">
      <button class="btn">Buka di Google Maps</button>
    </a>
  </div>
</section>

<section>
<h2>Ucapan & Doa</h2>
<p>Tinggalkan doa terbaik Anda</p>
<div class="card">
  <input id="namaUcapan" placeholder="Nama" style="width:100%;padding:12px;border-radius:10px;border:1px solid #ddd"><br><br>
  <textarea id="isiUcapan" rows="4" placeholder="Ucapan / Doa" style="width:100%;padding:12px;border-radius:10px;border:1px solid #ddd"></textarea><br><br>
  <button class="btn" onclick="kirimUcapan()">Kirim Ucapan</button>
  <p id="notifUcapan"></p>
  <div id="listUcapan" style="text-align:left;margin-top:30px"></div>
</div>
</section>

<section>
  <h2>Amplop Digital</h2>
  <div class="card dark">
    <p><strong>BNI</strong><br>1258747019 <br>a.n Rinaldy Iqbal</p>
  </div>
  <div class="card dark">
    <p><strong>BCA</strong><br>1234567890<br>a.n Della Dwinov Puspita Ramadana</p>
  </div>
</section>

<section>
  <h2>Gallery Foto</h2>
  <div class="card">
    <div class="gallery">
      <img src="/images/img_02.png" onclick="openLightbox(this)">
      <img src="/images/img_03.png" onclick="openLightbox(this)">
      <img src="/images/img_04.png" onclick="openLightbox(this)">
      <img src="/images/img_05.png" onclick="openLightbox(this)">
      <img src="/images/img_06.png" onclick="openLightbox(this)">
      <img src="/images/img_07.png" onclick="openLightbox(this)">
    </div>
  </div>
</section>

<div class="lightbox" id="lightbox" onclick="this.classList.remove('active')">
  <img id="lightboxImg">
</div>

<footer>
<p>Terima kasih atas doa dan kehadiran Anda</p>
<p>Â© 2025 Della & Iqbal</p>
</footer>

<script>
// Ganti URL ini dengan Web App Google Apps Script kamu
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwwOXapqDIELTU81Qd7aeFK1Pdkc7kcLvaR5Sp38DSeNGV4WgggdnMKMttiAafLaXOT/exec";

function avatarColor(name){
  const colors=['#ef4444','#f97316','#eab308','#22c55e','#06b6d4','#3b82f6','#8b5cf6','#ec4899'];
  let hash=0;
  for(let c of name) hash=c.charCodeAt(0)+(hash<<5)-hash;
  return colors[Math.abs(hash)%colors.length];
}

function loadUcapan(){
  fetch(SCRIPT_URL)
    .then(res => res.json())
    .then(data => {
      const list = document.getElementById('listUcapan');
      if(!data.length){
        list.innerHTML='<p style="text-align:center;color:#6b7280">Belum ada ucapan</p>';
        return;
      }
      list.innerHTML = data.reverse().map(u=>{
        return `
        <div class="ucapan-item">
          <div class="avatar" style="background:${avatarColor(u.nama)}">${u.nama[0].toUpperCase()}</div>
          <div class="ucapan-box">
            <strong>${u.nama}</strong><br>
            <small>${u.waktu}</small>
            <p>${u.ucapan}</p>
          </div>
        </div>`;
      }).join('');
    })
    .catch(()=>console.log('Gagal load ucapan'));
}

function kirimUcapan(){
  const nama = namaUcapan.value || 'Tamu';
  const isi = isiUcapan.value.trim();
  if(!isi) return alert('Isi ucapan dahulu');

  fetch(SCRIPT_URL, {
    method:'POST',
    body: JSON.stringify({nama, ucapan: isi})
  })
  .then(res => res.json())
  .then(r => {
    notifUcapan.textContent="Terima kasih atas doanya ðŸ¤";
    notifUcapan.style.color="green";
    namaUcapan.value=''; isiUcapan.value='';
    loadUcapan();
  })
  .catch(err=>{
    notifUcapan.textContent="Gagal mengirim ucapan ðŸ˜¢";
    notifUcapan.style.color="red";
  });
}

function openLightbox(el){
  lightboxImg.src=el.src;
  document.getElementById('lightbox').classList.add('active');
}

function getQueryParam(param){
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get(param);
}

const namaTamuUrl = getQueryParam('nama');
if(namaTamuUrl){
  // Tampilkan di hero
  document.getElementById('namaTamu').textContent = `${decodeURIComponent(namaTamuUrl)}`;
  // Isi otomatis input ucapan
  document.getElementById('namaUcapan').value = decodeURIComponent(namaTamuUrl);
}

function startMusic() {
  const bgMusic = document.getElementById('bgMusic');
  bgMusic.play().catch(()=>{});
}

loadUcapan();
</script>

</body>
</html>
